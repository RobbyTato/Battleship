import keyboard
import print_screen as ps
import colorama
import sys
from colorama import Fore, Back, Style

colorama.init()


# Logo generated by https://patorjk.com/software/taag/ (Font Name: Roman)
title = r'''
oooooooooo.                .       .   oooo                     oooo         o8o
`888'   `Y8b             .o8     .o8   `888                     `888         `"'
 888     888  .oooo.   .o888oo .o888oo  888   .ooooo.   .oooo.o  888 .oo.   oooo  oo.ooooo.
 888oooo888' `P  )88b    888     888    888  d88' `88b d88(  "8  888P"Y88b  `888   888' `88b
 888    `88b  .oP"888    888     888    888  888ooo888 `"Y88b.   888   888   888   888   888
 888    .88P d8(  888    888 .   888 .  888  888    .o o.  )88b  888   888   888   888   888
o888bood8P'  `Y888""8o   "888"   "888" o888o `Y8bod8P' 8""888P' o888o o888o o888o  888bod8P'
                                                                                   888
                                                                                  o888o
'''

controls = '''
  ðŸ¡…          W
ðŸ¡„  ðŸ¡†  or  A  D to navigate
  ðŸ¡‡          S
   
    Enter to select/confirm
'''


def menu_screen():
    menu_options = ["Play", "Controls", "Exit"]
    current_option = 0
    menu_text = ps.add_lines(["", "â®ž  " + Back.WHITE + Fore.BLACK + "Play" + Style.RESET_ALL + "  â®œ", "", "Controls", "", "Exit"], title, center=True)
    ps.print_screen(menu_text)

    while True:

        # process keyboard input
        key = keyboard.read_event(suppress=True)
        if key.event_type == "up" or key.name not in ("s", "down", "w", "up", "enter"):
            continue
        if key.name in ("s", "down"):
            if current_option == len(menu_options) - 1:
                current_option = 0
            else:
                current_option += 1
        if key.name in ("w", "up"):
            if current_option == 0:
                current_option = len(menu_options) - 1
            else:
                current_option -= 1
        if key.name == "enter":
            return menu_options[current_option]

        # reload menu
        b = title
        for i in range(len(menu_options)):
            b = ps.add_line("", b)
            if i == current_option:
                b = ps.add_line("â®ž  " + Back.WHITE + Fore.BLACK + menu_options[i] + Style.RESET_ALL + "  â®œ", b, center=True)
            else:
                b = ps.add_line(menu_options[i], b, center=True)
        ps.print_screen(b)


if __name__ == "__main__":


    while True:
        option = menu_screen()
        if option == "Play":
            pass
        if option == "Controls":
            ps.print_screen(controls)
            keyboard.wait('enter', suppress=True)
        if option == "Exit":
            break




